"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const util_1 = require("../util");
const type_mappings_1 = require("./type-mappings");
function schemaStructPropToTypeScript(state, prop, name) {
    return state + `  ${name}: ${type_mappings_1.typeMappingsByGeneric[prop.type].ts};
`;
}
exports.schemaStructPropToTypeScript = schemaStructPropToTypeScript;
function scPropToInterface(state, scProp, name) {
    return state + `export interface ${name} {
${util_1.objReduce(scProp.struct, schemaStructPropToTypeScript, '')}}

`;
}
exports.scPropToInterface = scPropToInterface;
function schemaToTypeScript(schema) {
    return util_1.objReduce(schema, scPropToInterface, '');
}
exports.schemaToTypeScript = schemaToTypeScript;
function writeTsFromSchema(fullPath, schema) {
    return new Promise((resolve, reject) => {
        fs_1.writeFile(fullPath, schemaToTypeScript(schema), (err) => {
            if (err) {
                reject(err);
            }
            else {
                resolve();
            }
        });
    });
}
exports.writeTsFromSchema = writeTsFromSchema;
//# sourceMappingURL=schema-to-typescript.js.map